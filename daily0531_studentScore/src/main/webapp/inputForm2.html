<!DOCTYPE html> <!-- 문서 유형을 정의 -->
<html lang="en"> <!-- 언어와 함께 HTML 태그의 시작을 나타냄 -->

<head> <!-- 문서의 헤더 정보를 나타냄 -->
    <meta charset="UTF-8"> <!-- 문서의 문자 인코딩 방식을 설정 -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge"> <!-- 렌더링 엔진을 지정 -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- 모바일 장치의 화면 크기에 따라 화면 비율을 조정하기 위한 메타 태그 -->
    <title>inputForm2.html</title> <!-- 문서의 제목을 설정 -->

    <script type="text/javascript">
    function validateInput(inputElement) {
        const value = inputElement.value;
        var check = true;

        const pattern = /^[0-9]{6}$/; // 6자리 정수만 받는 정규식 선언

        if (inputElement.name === "searchID") {
            // 검색할 학번 입력 필드인 경우
            if (value === null || value === "") {
                // 값이 비어있는 경우
                alert("학번을 입력해야 합니다!");
                check = false;
            } else if (!pattern.test(value)) {
                // 입력 값이 6자리 정수가 아닌 경우
                alert("학번은 6자리 정수로 입력해야 합니다!");
                inputElement.value = ""; // 입력 값을 초기화하거나 다른 조치를 취할 수 있습니다.
                check = false;
            }
        }
        return check;
    }

        function handleSubmit() {
            const form = document.getElementById("inputForm2"); // 폼 요소를 가져옵니다.
            const inputs = form.querySelectorAll("input"); // 폼 내의 모든 입력 요소를 가져옵니다.
            var valid = true; // 유효성 검사 결과를 저장할 변수입니다.

            // 각 입력 요소에 대해 유효성 검사를 수행합니다.
            inputs.forEach(function (input) {
                if (!validateInput(input)) { // 입력 요소가 유효하지 않은 경우
                    valid = false; // 유효성 검사 결과를 false로 설정합니다.
                }
            });

            if (valid == true) { // 모든 입력 요소가 유효한 경우
                form.submit(); // 폼을 제출합니다.
            }
        }
    </script>
</head>

<body> <!-- 문서의 본문을 나타냄 -->
    <h1>성적 조회후 정정 / 삭제</h1>
    <form method = "post" action = "showREC.jsp" id="inputForm2">
        <table cellspacing=1 width=400 border=0>
            <tr>
                <td width=400 style="text-align: center;">조회할 학번</td>
                <td width=300 style="text-align: center;"><p align=center></p><input type="text" name="searchID" id="searchID" onchange="validateInput(this)" required></p></td>
                <td width=300 style="text-align: start;"><input type="button" value="조회" onclick="handleSubmit()"></td>
            </tr>
        </table>

        <table cellspacing=1 width=400 border=1>
            <tr>
                <td width=100><p align=center>이름</p></td><!-- 이름 출력 -> 읽기 전용 -->
                <td width=300 style="text-align: center;"><p align=center></p><input type="text" name="name" value="" readonly></p></td>
            </tr>
            <tr>
                <td width=100><p align=center>학번</p></td><!-- 학번 출력 -> 읽기 전용 -->
                <td width=300 style="text-align: center;"><p align=center></p></td>
            </tr>
            <tr>
                <td width=100><p align=center>국어</p></td><!-- 국어 출력 -> 읽기 전용 -->
                <td width=300 style="text-align: center;"><p align=center></p><input type="text" name="kor" value="" readonly></p></td>
            </tr>
            <tr>
                <td width=100><p align=center>영어</p></td><!-- 영어 출력 -> 읽기 전용 -->
                <td width=300 style="text-align: center;"><p align=center></p><input type="text" name="eng" value="" readonly></p></td>
            </tr>
            <tr>
                <td width=100><p align=center>수학</p></td><!-- 수학 출력 -> 읽기 전용 -->
                <td width=300 style="text-align: center;"><p align=center></p><input type="text" name="mat" value="" readonly></p></td>
            </tr>
        </table>
    </form>

</body>
</html> 
